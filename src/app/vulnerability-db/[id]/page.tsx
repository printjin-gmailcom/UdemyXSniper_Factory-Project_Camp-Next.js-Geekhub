import ArticleDetail from '@/app/vulnerability-db/_components/ArticleDetail';
import { Report } from '@/components/Chatbot/Chatbot';
import { FloatingButton } from '@/components/Floating/FloatingButton';
import { ArticleData } from '@/types/crawlingData';

export default async function VulnerabilityDbDetailPage({ params }: { params: { id: string } }) {
  const DetailData: ArticleData = await (
    await fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/vulDb/${params.id}`, {
      cache: 'no-cache',
    })
  ).json();
  const ChatBotReport: Report = {
    title: DetailData.title,
    desc: DetailData.content,
  };
  return (
    <div className="mt-[3.301rem] flex flex-col items-center">
      <ArticleDetail {...DetailData} />
      <FloatingButton type="ask" report={ChatBotReport} />
    </div>
  );
}
