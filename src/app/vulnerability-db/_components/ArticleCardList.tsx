'use client';

import { useState } from 'react';
import Link from 'next/link';
import ArticleCard from '@/components/VulDbCard/ArticleCard';
import SuggestionChip from '@/components/Chips/SuggestionChip';
import { ArticleData } from '@/types/crawlingData';

export default function ArticleCardList({ dataList }: { dataList: ArticleData[] }) {
  const [toggleLabel, setToggleLabel] = useState(true);
  const onClickLabel = () => {
    setToggleLabel(prev => !prev);
  };
  return (
    <div className="flex flex-col gap-[1.6rem]">
      <h2 className="text-[2.4rem] font-bold leading-[2.905rem]">취약점 DB</h2>
      <div className="flex gap-[1.2rem]">
        <button type="button" onClick={onClickLabel}>
          <SuggestionChip variant="hot" isActive={toggleLabel} />
        </button>
        <button type="button" onClick={onClickLabel}>
          <SuggestionChip variant="new" isActive={!toggleLabel} />
        </button>
      </div>
      <div className="flex flex-col gap-[1.6rem]">
        {dataList.map(data => (
          <Link key={data.id} href={`/vulnerability-db/${data.id}`}>
            <ArticleCard
              company=""
              date={data.scrapDate}
              label={toggleLabel ? 'hot' : 'new'}
              id={0}
              title={data.title}
              content={typeof data.content[0] === 'string' ? data.content[0] : 'table 데이터....'}
            />
          </Link>
        ))}
      </div>
    </div>
  );
}
